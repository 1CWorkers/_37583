<CatalogObject._37583_ALG xmlns="http://v8.1c.ru/8.1/data/enterprise/current-config" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<IsFolder>false</IsFolder>
	<Ref>e67f4382-744c-11e9-b794-002522f8f390</Ref>
	<DeletionMark>false</DeletionMark>
	<Parent>4fae3bd8-74e3-11e9-7396-002522f8f390</Parent>
	<Code>000000006</Code>
	<Description>EasyRPC выполнить функцию (строка)</Description>
	<КодАлгоритма>Если Параметры.МассивПараметров.Количество() &lt;&gt; Параметры.МассивТипов.Количество() Тогда 
 this["Результат"] = "" ; Перейти ~EndOfText; 
 КонецЕсли ; 
 СтрокаЗапроса = Параметры.Пролог1 + Параметры.ProcName + Параметры.Пролог2 ; 
 Для Ё = 0 По Параметры.МассивПараметров.ВГраница() Цикл 
 СтрокаЗапроса = СтрокаЗапроса + СтрЗаменить(СтрЗаменить(Параметры.Шаблон,"%1",Параметры.МассивТипов[Ё]),"%2",Параметры.МассивПараметров[Ё]) ; 
 КонецЦикла ; 
 СтрокаЗапроса = СтрокаЗапроса + Параметры.Эпилог ; 
 Сообщить("Запрос rpc: " + СтрокаЗапроса) ; 
 HTTPЗапрос = Новый HTTPЗапрос ; 
 HTTPЗапрос.АдресРесурса = "/RPC2" ; 
 HTTPЗапрос.Заголовки.Вставить("Accept-Encoding", " gzip") ; 
 HTTPЗапрос.Заголовки.Вставить("Host", Параметры.host + ":" + Строка(Параметры.port)) ; 
 HTTPЗапрос.Заголовки.Вставить("Content-Type", "text/xml") ; 
 HTTPЗапрос.УстановитьТелоИзСтроки(СтрокаЗапроса) ; 
 HTTPСоединение = Новый HTTPСоединение(Параметры.host,Параметры.port,,,,5) ; 
 Ответ = HTTPСоединение.ОтправитьДляОбработки(HTTPЗапрос) ; 
 this["Результат"] = Ответ.ПолучитьТелоКакСтроку() ; Перейти ~EndOfText; 
 
~EndOfText:</КодАлгоритма>
	<Текст>Если @МассивПараметров.Количество() &lt;&gt; @МассивТипов.Количество() Тогда 
	Возврат ""; 
КонецЕсли; 
СтрокаЗапроса = @Пролог1 + @ProcName + @Пролог2; 
Для Ё = 0 По @МассивПараметров.ВГраница() Цикл 
	СтрокаЗапроса = СтрокаЗапроса + СтрЗаменить(СтрЗаменить(@Шаблон,"%1",@МассивТипов[Ё]),"%2",@МассивПараметров[Ё]);
КонецЦикла; 
СтрокаЗапроса = СтрокаЗапроса + @Эпилог; 
Сообщить("Запрос rpc: " + СтрокаЗапроса); 
HTTPЗапрос = Новый HTTPЗапрос; 
HTTPЗапрос.АдресРесурса = "/RPC2"; 
HTTPЗапрос.Заголовки.Вставить("Accept-Encoding", " gzip"); 
HTTPЗапрос.Заголовки.Вставить("Host", @host + ":" + Строка(@port)); 
HTTPЗапрос.Заголовки.Вставить("Content-Type", "text/xml"); 
HTTPЗапрос.УстановитьТелоИзСтроки(СтрокаЗапроса); 
HTTPСоединение = Новый HTTPСоединение(@host,@port,,,,5); 
Ответ = HTTPСоединение.ОтправитьДляОбработки(HTTPЗапрос); 
Возврат Ответ.ПолучитьТелоКакСтроку(); 
 </Текст>
	<Хранилище>AQGnAQAAAAAAAO+7v3siIyIsNDIzODAxOWQtN2U0OS00ZmM5LTkxZGItYjZiOTUx
ZDVjZjhlLA0KezYsDQp7DQp7IlMiLCJob3N0In0sDQp7IlMiLCJsb2NhbGhvc3Qi
fQ0KfSwNCnsNCnsiUyIsInBvcnQifSwNCnsiTiIsODAwMH0NCn0sDQp7DQp7IlMi
LCLQn9GA0L7Qu9C+0LMxIn0sDQp7IlMiLCI8P3htbCB2ZXJzaW9uID0gJzEuMCc/
PjxtZXRob2RDYWxsPjxtZXRob2ROYW1lPiJ9DQp9LA0Kew0KeyJTIiwi0J/RgNC+
0LvQvtCzMiJ9LA0KeyJTIiwiPC9tZXRob2ROYW1lPjxwYXJhbXM+In0NCn0sDQp7
DQp7IlMiLCLQrdC/0LjQu9C+0LMifSwNCnsiUyIsIjwvcGFyYW1zPjwvbWV0aG9k
Q2FsbD4ifQ0KfSwNCnsNCnsiUyIsItCo0LDQsdC70L7QvSJ9LA0KeyJTIiwiPHBh
cmFtPjx2YWx1ZT48JTE+JTI8LyUxPjwvdmFsdWU+PC9wYXJhbT4ifQ0KfQ0KfQ0K
fQ==</Хранилище>
	<Комментарий>Отладка /home/pm74/prescriptions/python/xmlrpc.py RunModule</Комментарий>
	<Кэшировать>false</Кэшировать>
	<ТолькоТекст>false</ТолькоТекст>
	<НаКлиенте>false</НаКлиенте>
	<ВыбрасыватьИсключение>false</ВыбрасыватьИсключение>
	<ВыполнитьВТранзакции>false</ВыполнитьВТранзакции>
	<ЗаписыватьОшибкиВЖР>true</ЗаписыватьОшибкиВЖР>
	<Теги>python</Теги>
	<ИдентификаторHTTP/>
	<ИдентификаторРегламентногоЗадания/>
	<РегламентноеЗадание>false</РегламентноеЗадание>
	<ПрограммныйИнтерфейс>
		<Вход>true</Вход>
		<Имя>host</Имя>
		<ТипПараметра>Строка</ТипПараметра>
		<Действие/>
	</ПрограммныйИнтерфейс>
	<ПрограммныйИнтерфейс>
		<Вход>true</Вход>
		<Имя>port</Имя>
		<ТипПараметра>Число</ТипПараметра>
		<Действие/>
	</ПрограммныйИнтерфейс>
	<ПрограммныйИнтерфейс>
		<Вход>true</Вход>
		<Имя>ШаблонСтроки</Имя>
		<ТипПараметра>Строка</ТипПараметра>
		<Действие/>
	</ПрограммныйИнтерфейс>
	<ПрограммныйИнтерфейс>
		<Вход>true</Вход>
		<Имя>МассивПараметров</Имя>
		<ТипПараметра>Массив</ТипПараметра>
		<Действие/>
	</ПрограммныйИнтерфейс>
</CatalogObject._37583_ALG>